<%= simple_form_for(@agency) do |f| %>
  <%= f.error_notification %>

  <% if @agency.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@agency.errors.count, "error") %> prohibited this case from being saved:</h2>
      <ul>
      <% @agency.errors.each do |field,msg| %>
        <li style='list-style:none;'><%= raw("<strong>#{field.capitalize}:</strong> #{msg}") %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-inputs">
    <%= f.input :name %>
    <%= f.input :street_address %>
    <%= f.input :city %>
    <%= f.collection_select :state_id, SortCollectionOrdinally.call(State.all), :id, :name, {prompt: "State"}, label:"State" %>
    <%= f.input :zipcode %>
    <%= f.input :description %>
    <%= f.input :jurisdiction_type, collection: Agency::JurisdictionType.map(&:name) %>
    <%= f.input :telephone %>
    <%= f.input :email %>
    <%= f.input :website %>
    <%= f.input :lead_officer %>
  </div>

  <div class="form-actions">
    <div class ="btn-group submit">
      <%= f.button :submit, class: "btn btn-success" %>
    </div>
  </div>

  <% if action_name == 'edit' %>
    <span class="btn-show">
      <%= link_to 'Show', @agency, class: "btn btn-success" %>
    </span>
  <% end %>

    <div class="btn-group back">
      <%= link_to 'Back', agencies_path, class: 'btn btn-primary' %>
    </div>
<% end %>
